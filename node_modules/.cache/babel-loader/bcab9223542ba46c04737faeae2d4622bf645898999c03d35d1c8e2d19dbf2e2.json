{"ast":null,"code":"import _regeneratorRuntime from\"/Users/stasy/Desktop/public-privacy-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/stasy/Desktop/public-privacy-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React,{useContext,useRef,useState,useEffect}from\"react\";import Button from\"react-bootstrap/Button\";import Form from\"react-bootstrap/Form\";import AuthContext from\"./shared/AuthContext\";import{useNavigate}from\"react-router-dom\";import Footer from\"../components/Footer.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Login=function Login(){var _useContext=useContext(AuthContext),LogIn=_useContext.LogIn,LogOut=_useContext.LogOut;var email=useRef(\"\");var password=useRef(\"\");var navigate=useNavigate();var loginSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var payload;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;payload={email:email.current.value,password:password.current.value};if(!document.cookie.includes(\"loginToken\")){_context.next=7;break;}alert(\"You are already logged in.\");// setAlertMessage(\"You are already logged in.\");\n// setIsAlertVisible(true);\nnavigate(\"/collaborator/dashboard\");_context.next=11;break;case 7:_context.next=9;return LogIn(payload);case 9:navigate(\"/collaborator/dashboard\");setTimeout(LogOut,3600000);// After login, the system will logout in 1 hour.\ncase 11:_context.next=19;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](0);//alert(`${error}`);\nconsole.log(_context.t0);alert(\"Oops, the input is incorrect. Please try again.\");// setAlertMessage(\"Oops, the input is incorrect. Please try again.\");\n// setIsAlertVisible(true);\nnavigate(\"/about\");return _context.abrupt(\"return\");case 19:case\"end\":return _context.stop();}},_callee,null,[[0,13]]);}));return function loginSubmit(){return _ref.apply(this,arguments);};}();var resetPassword=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:navigate(\"/collaborator/resetPassword\");case 1:case\"end\":return _context2.stop();}},_callee2);}));return function resetPassword(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-12 text-center\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"text-center\",children:\"LOGIN\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-6\",children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formEmail\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",ref:email})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formPassword\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",ref:password})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"button\",onClick:loginSubmit,style:{backgroundColor:\"black\",color:\"white\",borderRadius:\"5px\",outline:\"none\",marginRight:\"2em\"},children:\"Login\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"button\",onClick:resetPassword,style:{backgroundColor:\"black\",color:\"white\",borderRadius:\"5px\",outline:\"none\"},children:\"Reset Password\"})]})]})})]}),/*#__PURE__*/_jsx(Footer,{})]});};export default Login;","map":{"version":3,"names":["React","useContext","useRef","useState","useEffect","Button","Form","AuthContext","useNavigate","Footer","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Login","_useContext","LogIn","LogOut","email","password","navigate","loginSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","payload","wrap","_callee$","_context","prev","next","current","value","document","cookie","includes","alert","setTimeout","t0","console","log","abrupt","stop","apply","arguments","resetPassword","_ref2","_callee2","_callee2$","_context2","children","className","Group","controlId","Label","Control","type","ref","variant","onClick","style","backgroundColor","color","borderRadius","outline","marginRight"],"sources":["/Users/stasy/Desktop/public-privacy-app/src/components/Login.jsx"],"sourcesContent":["import React, { useContext, useRef,useState,useEffect} from \"react\";\nimport Button from \"react-bootstrap/Button\";\nimport Form from \"react-bootstrap/Form\";\nimport AuthContext from \"./shared/AuthContext\";\nimport { useNavigate} from \"react-router-dom\";\nimport Footer from \"../components/Footer.js\";\n\n\nconst Login = () => {\n\n  const { LogIn,LogOut } = useContext(AuthContext);\n\n  const email=useRef(\"\");\n  const password = useRef(\"\");\n  const navigate = useNavigate();\n\n  const loginSubmit = async () => {\n    try {\n      let payload = {\n        email: email.current.value,\n        password: password.current.value,\n      };\n  \n      if (document.cookie.includes(\"loginToken\")) {\n        alert(\"You are already logged in.\");\n        // setAlertMessage(\"You are already logged in.\");\n        // setIsAlertVisible(true);\n        navigate(\"/collaborator/dashboard\");\n      } else {\n        await LogIn(payload);\n        navigate(\"/collaborator/dashboard\");\n        setTimeout(LogOut, 3600000); // After login, the system will logout in 1 hour.\n      }\n    } catch (error) {\n      //alert(`${error}`);\n      console.log(error);\n      alert(\"Oops, the input is incorrect. Please try again.\");\n      // setAlertMessage(\"Oops, the input is incorrect. Please try again.\");\n      // setIsAlertVisible(true);\n      navigate(\"/about\");\n      return;\n    }\n  };\n  \n\n  const resetPassword=async() =>{\n    navigate(\"/collaborator/resetPassword\");\n  }\n\n\n  return (\n    <>\n      <div className=\"container\">\n          <div className=\"row justify-content-center\">\n            <div className=\"col-sm-12 text-center\">\n                <h2 className=\"text-center\">LOGIN</h2>\n            </div>\n          </div>\n\n          <div className=\"row justify-content-center\">\n              <div className=\"col-sm-6\">\n                  <Form.Group className=\"mb-3\" controlId=\"formEmail\">\n                      <Form.Label>Email</Form.Label>\n                      <Form.Control type=\"email\" ref={email} />\n                  </Form.Group>\n\n                  <Form.Group className=\"mb-3\" controlId=\"formPassword\">\n                      <Form.Label>Password</Form.Label>\n                      <Form.Control type=\"password\" ref={password} />\n                  </Form.Group>\n                  <div className=\"text-center\">\n                    <Button variant=\"primary\" type=\"button\" onClick={loginSubmit} style={{\n                              backgroundColor: \"black\",\n                              color: \"white\",\n                              borderRadius: \"5px\",\n                              outline: \"none\",\n                              marginRight: \"2em\",\n                            }}>\n                      Login\n                    </Button>\n\n                    <Button variant=\"primary\" type=\"button\" onClick={resetPassword} style={{\n                              backgroundColor: \"black\",\n                              color: \"white\",\n                              borderRadius: \"5px\",\n                              outline: \"none\",\n                            }}>\n                      Reset Password\n                    </Button>\n                  </div>\n                  {/* {isAlertVisible && <Alert message={alertMessage} duration={3500} />} */}\n              </div>\n          </div>\n      </div>\n    <Footer/>\n    </>  \n  );\n};\n\n export default Login;\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}